<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì§„ìƒë ¥ ê²°ê³¼</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f6f7f9;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .result-container {
      background: white;
      padding: 40px;
      border-radius: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      max-width: 600px;
      width: 90%;
      text-align: center;
    }

    h1 {
      font-size: 26px;
      margin-bottom: 20px;
      color: #333;
    }

    .score-section {
      margin-top: 30px;
    }

    .score-box {
      background: #f0f2f5;
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 12px;
      font-size: 18px;
      color: #444;
    }
  </style>
</head>
<body>
  <div class="result-container">
    <h1>ì§„ìƒë ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h1>
    <div id="resultText">ì±„ì  ì¤‘ì…ë‹ˆë‹¤...</div>
    <div class="score-section" id="typeScores"></div>
  </div>

  <script>
    // ë¬¸í•­ ë²ˆí˜¸ â†’ ìœ í˜• ë§¤í•‘
    const typeMap = {
      "ê¶Œë¦¬ê³¼ì‰í˜•": [2, 3, 5],
      "ê³¼ë¯¼ë°˜ì‘í˜•": [6, 10, 15],
      "ì˜¤ì§€ë–í˜•": [8, 11, 13],
      "ìê¸°ì¤‘ì‹¬í˜•": [4, 7, 14],
      "í”¼í•´ë§ìƒí˜•": [1, 9, 12]
    };

    // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ answers ê°€ì ¸ì˜¤ê¸°
    const answers = JSON.parse(localStorage.getItem("answers")) || [];

    const maxPerItem = 6;
    const maxTotal = maxPerItem * 3; // ìœ í˜•ë‹¹ ë¬¸í•­ ìˆ˜: 3

    const scores = {};
    let totalScore = 0;

    for (const type in typeMap) {
      const qNums = typeMap[type];
      const sum = qNums.reduce((acc, qIdx) => acc + (answers[qIdx - 1] || 0), 0);
      scores[type] = Math.round((sum / maxTotal) * 100); // 100ì  í™˜ì‚°
      totalScore += sum;
    }

    // ì§„ìƒë ¥ ì´ì  ìŠ¤í™íŠ¸ëŸ¼ ê³„ì‚°
    const maxOverall = maxTotal * 5;
    const totalPercent = Math.round((totalScore / maxOverall) * 100);

    let spectrum = "";
    if (totalPercent <= 20) spectrum = "ğŸ’¡ ì¼ë°˜ì¸";
    else if (totalPercent <= 40) spectrum = "ğŸ˜ ê°€ë²¼ìš´ ì§„ìƒ";
    else if (totalPercent <= 60) spectrum = "âš ï¸ ì ì¬ ì§„ìƒ";
    else if (totalPercent <= 80) spectrum = "ğŸ”¥ ì‹¤ì „ ì§„ìƒ";
    else spectrum = "ğŸ‘‘ ì§„ìƒ ë§Œë ™";

    // ê²°ê³¼ ì¶œë ¥
    document.getElementById("resultText").innerHTML = `
      <p><strong>ì´ ì§„ìƒë ¥ ì ìˆ˜:</strong> ${totalScore}ì  / ${maxOverall}ì </p>
      <p><strong>ìŠ¤í™íŠ¸ëŸ¼ êµ¬ê°„:</strong> ${spectrum}</p>
    `;

    const scoresBox = document.getElementById("typeScores");
    for (const type in scores) {
      const div = document.createElement("div");
      div.className = "score-box";
      div.innerText = `${type} ì ìˆ˜: ${scores[type]}ì `;
      scoresBox.appendChild(div);
    }
  </script>
</body>
</html>
