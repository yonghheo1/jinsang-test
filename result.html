<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì§„ìƒë ¥ ê²°ê³¼</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
      background-color: #f7f7f7;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 700px;
      margin: 40px auto;
      padding: 24px;
      background-color: #fff;
      border-radius: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }
    h2 {
      text-align: center;
      margin-bottom: 16px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    table th, table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: center;
    }
    table th {
      background-color: #f0f0f0;
    }
    .highlight {
      background-color: #ffe6e6;
      font-weight: bold;
    }
    .type-image {
      text-align: center;
      margin: 24px 0;
    }
    .type-summary {
      background-color: #f9f9f9;
      border-left: 4px solid #5c7cfa;
      padding: 16px;
      margin: 16px 0;
    }
    .toggle-btn {
      background-color: transparent;
      border: none;
      color: #5c7cfa;
      font-size: 16px;
      cursor: pointer;
      margin: 20px 0;
    }
    #radar-container {
      display: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ë‹¹ì‹ ì˜ ì§„ìƒë ¥ ê²°ê³¼</h2>
    <div id="total-score"></div>

    <table>
      <thead>
        <tr><th>ì§„ìƒë ¥ í‰ê°€</th><th>ì˜ë¯¸</th></tr>
      </thead>
      <tbody id="spectrum-table">
        <tr><td>ğŸŸ¢ ë¹„ì§„ìƒì¡´</td><td>ì´ ì •ë„ë©´ ì¸ê²©ì ìˆ˜ì¤€! ì¼ìƒ ì† ë°°ë ¤ê°€ ëª¸ì— ë°´ ì‚¬ëŒ</td></tr>
        <tr><td>ğŸŸ¡ ì ì¬ì§„ìƒ</td><td>ì¼ìƒì—ì„œ ê°€ë” ìš±í•˜ê±°ë‚˜ ìê¸°ì¤‘ì‹¬ ë°˜ì‘ì´ ìˆì„ ìˆ˜ ìˆìŒ</td></tr>
        <tr><td>ğŸŸ  ê²½ê³„ì§„ìƒ</td><td>ê½¤ ë§ì€ ë¬¸í•­ì—ì„œ ì§„ìƒ ë°˜ì‘ì´ ë³´ì„. ìê° í•„ìš”</td></tr>
        <tr><td>ğŸ”´ ê³ ê¸‰ì§„ìƒ</td><td>ìœ í˜• ë¶ˆë¬¸, ì–´ë””ì„œë“  ì§„ìƒë ¥ì„ ìœ ê°ì—†ì´ ë°œíœ˜ ì¤‘</td></tr>
      </tbody>
    </table>

    <div class="type-image">
      <img id="dominant-type-img" src="" alt="ìœ í˜• ì´ë¯¸ì§€" width="100" />
    </div>
    <div class="type-summary" id="dominant-type-desc">
      <!-- ìœ í˜• ì„¤ëª… ë° TIP ì—¬ê¸°ì— ì‚½ì… -->
    </div>

    <button class="toggle-btn" onclick="toggleRadar()">â–¼ ìœ í˜•ë³„ ì ìˆ˜ ë³´ê¸°</button>
    <div id="radar-container">
      <canvas id="radarChart" width="400" height="400"></canvas>
    </div>
  </div>

  <script>
    // ìƒ˜í”Œ ë°ì´í„° (í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ìˆ˜ì • ê°€ëŠ¥)
    const totalScore = 72; // ì˜ˆì‹œ: 72ì 
    const maxScore = 90; // ìµœëŒ€ ì ìˆ˜ (ex. 30ë¬¸í•­ * 3ì )
    const percent = Math.round(totalScore / maxScore * 100);
    const scoreDiv = document.getElementById("total-score");
    scoreDiv.innerHTML = `<p><strong>ì§„ìƒë ¥ ì ìˆ˜:</strong> ${percent}ì </p>`;

    // ìŠ¤í™íŠ¸ëŸ¼ ê°•ì¡° ì²˜ë¦¬
    const rows = document.querySelectorAll("#spectrum-table tr");
    if (percent <= 25) rows[0].classList.add("highlight");
    else if (percent <= 50) rows[1].classList.add("highlight");
    else if (percent <= 75) rows[2].classList.add("highlight");
    else rows[3].classList.add("highlight");

    // ì§€ë°°ì  ìœ í˜• ì˜ˆì‹œ (ì°¨í›„ ê³„ì‚° ê¸°ë°˜ìœ¼ë¡œ êµì²´)
    const dominantType = "ê¶Œë¦¬ê³¼ì‰í˜•";
    const typeDesc = {
      "ê¶Œë¦¬ê³¼ì‰í˜•": {
        img: "img/type1.png",
        text: "ë‹¹ì‹ ì€ ê¶Œë¦¬ê³¼ì‰í˜• ì ìˆ˜ê°€ ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŠµë‹ˆë‹¤.\nìì‹ ì˜ ê¶Œë¦¬ë¥¼ ì§€ë‚˜ì¹˜ê²Œ ê°•ì¡°í•˜ë©°, íƒ€ì¸ì˜ ì…ì¥ì„ ê³ ë ¤í•˜ì§€ ëª»í•  ìˆ˜ ìˆì–´ìš”.\n\n<em>Tip:</em> ë•Œë¡œëŠ” ìƒëŒ€ì˜ ì‚¬ì •ë„ ë“¤ì–´ë³´ëŠ” ìœ ì—°í•¨ì´ í•„ìš”í•©ë‹ˆë‹¤."
      }
    };
    document.getElementById("dominant-type-img").src = typeDesc[dominantType].img;
    document.getElementById("dominant-type-desc").innerHTML = `<p>${typeDesc[dominantType].text}</p>`;

    // ì˜¤ê°í˜• ê·¸ë˜í”„
    const radarData = {
      labels: ["ê¶Œë¦¬ê³¼ì‰í˜•", "ê³¼ë¯¼ë°˜ì‘í˜•", "ì˜¤ì§€ë–í˜•", "ìê¸°ì¤‘ì‹¬í˜•", "í”¼í•´ë§ìƒí˜•"],
      datasets: [{
        label: "ìœ í˜•ë³„ ì ìˆ˜ (100ì  í™˜ì‚°)",
        data: [70, 45, 55, 80, 60],
        backgroundColor: "rgba(92, 124, 250, 0.2)",
        borderColor: "rgba(92, 124, 250, 1)",
        pointBackgroundColor: "rgba(92, 124, 250, 1)"
      }]
    };
    const radarConfig = {
      type: 'radar',
      data: radarData,
      options: {
        responsive: true,
        scales: {
          r: {
            angleLines: { display: true },
            suggestedMin: 0,
            suggestedMax: 100
          }
        }
      }
    };
    const radarChart = new Chart(document.getElementById("radarChart"), radarConfig);

    function toggleRadar() {
      const box = document.getElementById("radar-container");
      box.style.display = box.style.display === "none" ? "block" : "none";
    }
  </script>
</body>
</html>
